# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

## üö® –ü—Ä–æ–±–ª–µ–º–∞
Nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤. –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/etc/letsencrypt`.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### **–í docker-compose.simple.yml:**
```yaml
volumes:
  - /etc/letsencrypt:/etc/letsencrypt:ro      # –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
```

### **–í docker-compose.production.yml:**
```yaml
volumes:
  - /etc/letsencrypt:/etc/letsencrypt:ro      # –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
  # - ./letsencrypt:/etc/letsencrypt:ro       # –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–µ—Å–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã)
```

## üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ

1. **nginx.conf** —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `/etc/letsencrypt/live/gongbu.appletownworld.com/`
2. **–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—É—Ç—å** `/etc/letsencrypt` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ symlink-–∏
3. **–õ–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å** `./letsencrypt` –±—ã–ª –ø—É—Å—Ç—ã–º, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫–∏

## üöÄ –í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã –Ω–∞ —Ö–æ—Å—Ç–µ —á–µ—Ä–µ–∑ certbot
sudo certbot certonly --standalone -d gongbu.appletownworld.com

# Docker –º–æ–Ω—Ç–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- /etc/letsencrypt:/etc/letsencrypt:ro
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**
```bash
# –ö–æ–ø–∏—Ä—É–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç
sudo cp -r /etc/letsencrypt ./letsencrypt/
sudo chown -R $USER:$USER ./letsencrypt/

# Docker –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- ./letsencrypt:/etc/letsencrypt:ro
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **Symlink-–∏**: Let's Encrypt —Å–æ–∑–¥–∞–µ—Ç —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã
- **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Docker –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

## üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
docker-compose exec nginx ls -la /etc/letsencrypt/live/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
docker-compose exec nginx openssl x509 -in /etc/letsencrypt/live/gongbu.appletownworld.com/fullchain.pem -text -noout

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ nginx
docker-compose logs nginx
```
